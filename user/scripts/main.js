"use strict";var Myroot;$(function(){(Myroot={start:function(){this.escapeEvent()},escapeEvent:function(){$(document).keydown(function(t){27===t.keyCode&&$(".modal").slideUp(300)})}}).start();var e=document.querySelectorAll(".fd-accordion-item"),n=function(t){t.currentTarget.parentNode.parentNode.parentNode.classList.contains("currentSelect")?t.currentTarget.parentNode.parentNode.parentNode.classList.remove("currentSelect"):(Array.prototype.forEach.call(e,function(t){t.classList.remove("currentSelect")}),t.currentTarget.parentNode.parentNode.parentNode.classList.add("currentSelect"))};function a(t){$("#"+t).slideDown(300)}Array.prototype.forEach.call(e,function(t){t.querySelector("div.comment").addEventListener("click",n,!1)}),$(".close").on("click",function(){$(".modal").slideUp(300)});$("#photo-proof").on("change",function(){!function(t){if(t.files&&t.files[0]){var e=new FileReader;e.onload=function(t){$("[data-photo=get-photo]").attr("src",t.target.result)},e.readAsDataURL(t.files[0])}}(this),$(".result-photo").show(),$(".take-photo").hide()}),$(".reTakePhoto").on("click",function(t){t.preventDefault(),$("#photo-proof").trigger("click",function(){$(".result-photo").show()})}),$(".nav-bar .fd-wrapper .fd-slot").eq(2).on("click",function(t){t.preventDefault(),$(".timepickerBox").css({marginTop:"50px"})}),$(".hidePickerBox").on("click",function(t){t.preventDefault(),$(".timepickerBox").css({marginTop:"0"})}),$(".check").on("click",function(){var t=$(this).find("input").prop("checked");$(this).find("input").prop("checked",!t),!1===t?$(this).children("div").eq(1).find("h4").css({color:"#ddd",textDecoration:"line-through"}):$(this).children("div").eq(1).find("h4").removeAttr("style")}),$(".fd-accordion-item").each(function(t){var n=$(this);function e(t){$("[data-photo=result-phohoto]").attr("src");var e=$('[data-photo="get-photo"]').attr("src");$("#"+t).slideUp(),n.find("div.takePic").addClass("submitted"),n.find(".groupBtn").find("figure.photo-thumb").children("img").attr("src",e)}$(this).find(".groupBtn").children("div.takePic").on("click",function(){a("photo-capture"),$(".result-photo").hide(),$(".take-photo").show(100,function(){$(".savePhoto").on("click",function(t){t.preventDefault(),e("photo-capture")})})}),$(this).find(".groupBtn").children("figure.photo-thumb").on("click",function(){a("re-capture"),$(".result-photo").show(),$(".take-photo, .reSavePhoto").hide(),$('#re-capture .result-photo img[data-photo="get-photo"]').on("load",function(){$(".reSavePhoto").show(),$(".reSavePhoto").on("click",function(t){t.preventDefault(),e("re-capture")})})}),$(this).find("div.fd-accordion-body").find("button").on("click",function(t){var e=this,n=$(this).data("rel");"save"===n?""===$(this).parents().siblings(".textarea-custom").val()?swal({title:"Note masih kosong!",text:"Anda harus mengisinya jika ingin menyimpan",icon:"warning"}):swal({title:"Simpan catatan",text:"Catatan anda telah tersimpan",icon:"success"}).then(function(){$(e).attr("disabled",!0),$(e).parents().siblings(".textarea-custom").attr("disabled",!0),$(e).parent().siblings("li").children("button[data-rel=edit]").removeAttr("disabled"),$(e).parent().siblings("li").children("button[data-rel=erase]").removeAttr("disabled"),$(e).parents().parents().removeClass("currentSelect"),$(e).parents().parents().children(".fd-accordion-header").find("div.comment").children("i").removeClass("fa-pencil-alt").addClass("fa-comment-dots").css("color","#26BEDB")}):"edit"===n?($(this).attr("disabled",!0),$(this).parents().siblings(".textarea-custom").attr("disabled",!1),$(this).parent().siblings("li").children("button[data-rel=save]").removeAttr("disabled")):swal({title:"Anda yakin ingin menghapus?",text:"Apabila terhapus, data tidak dapat di kembalikan kembali!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t?swal("Data telah terhapus!",{icon:"success"}).then(function(){$(e).attr("disabled",!0),$(e).parents().siblings(".textarea-custom").attr("disabled",!1).val(""),$(e).parent().siblings("li").children("button[data-rel=save]").removeAttr("disabled"),$(e).parent().siblings("li").children("button[data-rel=edit]").attr("disabled",!0),$(e).parents().parents().children(".fd-accordion-header").find("div.comment").children("i").removeClass("fa-comment-dots").addClass("fa-pencil-alt").removeAttr("style")}):swal("Data anda masih tersimpan!")})})})});